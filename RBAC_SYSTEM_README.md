# ูุธุงู ุงูุชุญูู ูุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช - RBAC System

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุจูุงุก ูุธุงู ุดุงูู ููุชุทูุฑ ููุชุญูู ูู ุงููููุฉ ูุน ูุธุงู RBAC (Role-Based Access Control) ูุชูุงูู ููุงุนุฏุฉ ุงูุจูุงูุงุช.

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ ูุธุงู ุงูุชุญูู ุงููุชุทูุฑ
- **CSRF Protection**: ุญูุงูุฉ ูู ูุฌูุงุช Cross-Site Request Forgery
- **Session Security**: ุงูุชุญูู ูู ุตุญุฉ ุงูุฌูุณุฉ ูุน IP ู User-Agent validation
- **Brute Force Protection**: ุญูุงูุฉ ูู ูุฌูุงุช ุงูุชุฎููู ูุน ุชุญุฏูุฏ ุงููุญุงููุงุช
- **Secure Password Hashing**: ุงุณุชุฎุฏุงู bcrypt/Argon2 ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ

### ๐ญ ูุธุงู ุงูุฃุฏูุงุฑ (RBAC)
- **ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ**:
  - `admin_roles`: ุงูุฃุฏูุงุฑ (admin, manager, editor, viewer)
  - `admin_permissions`: ุงูุตูุงุญูุงุช (forms.create, submissions.view, ุฅูุฎ)
  - `admin_role_assignments`: ุฑุจุท ุงููุณุชุฎุฏููู ุจุงูุฃุฏูุงุฑ
  - `admin_role_permissions`: ุฑุจุท ุงูุฃุฏูุงุฑ ุจุงูุตูุงุญูุงุช
  - `audit_logs`: ุณุฌู ุฌููุน ุงูุนูููุงุช ุงูุฃูููุฉ

### ๐ ูุธุงู ุงูุตูุงุญูุงุช ุงููุทูุฑ
- **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**: ุงูุชุญูู ูู ุตูุงุญูุงุช ูุญุฏุฏุฉ ูููุณ ููุท ุงูุฃุฏูุงุฑ
- **Department-based Permissions**: ุตูุงุญูุงุช ูุฎุตุตุฉ ููุฅุฏุงุฑุงุช
- **Caching System**: ุชุฎุฒูู ูุคูุช ููุตูุงุญูุงุช ูุชุญุณูู ุงูุฃุฏุงุก
- **Granular Permissions**: ุตูุงุญูุงุช ุฏูููุฉ ููู ูุญุฏุฉ

### ๐ก๏ธ ูุธุงู ุงูุฃูุงู
- **Audit Logging**: ุชุณุฌูู ุดุงูู ูุฌููุน ุงูุนูููุงุช
- **Security Headers**: ุญูุงูุฉ ูู XSSุ Clickjackingุ ูุบูุฑูุง
- **Rate Limiting**: ุชุญุฏูุฏ ูุนุฏู ุงูุทูุจุงุช
- **Session Management**: ุฅุฏุงุฑุฉ ุขููุฉ ููุฌูุณุงุช

## ุงูุจููุฉ ุงูุฌุฏูุฏุฉ

### ุงููููุงุช ุงูุฃุณุงุณูุฉ

#### 1. `src/Core/Auth.php`
- ูุธุงู ุงูุชุญูู ุงูุฃุณุงุณู
- ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ูุงูุฃูุงู
- CSRF Protection
- Brute Force Protection

#### 2. `src/Core/Services/RolePermissionService.php`
- ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- Caching ููุตูุงุญูุงุช
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ุงููุนูุฏุฉ

#### 3. `src/helpers.php`
- Helper Functions ุณููุฉ ุงูุงุณุชุฎุฏุงู
- ุฏูุงู ูุฑูุฉ ููุชุญูู ุงูุณุฑูุน

#### 4. `config/security.php`
- ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ุงููุฑูุฒูุฉ
- ุชูููู Session ูCSRF ูRate Limiting

#### 5. `database/rbac_tables.sql`
- ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ
- Foreign Keys ูIndexes

### API ุงููุธุงุฆู

#### ุงูุชุญูู ุงูุฃุณุงุณู
```php
// ุงูุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู
is_logged_in() // bool
current_user() // array|null

// ุญูุงูุฉ ุงูุตูุญุงุช
require_auth() // void
require_role('admin') // void
require_permission('forms.create') // void
require_permission('forms.edit', $departmentId) // void
```

#### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
```php
// ูุญุต ุงูุตูุงุญูุงุช
has_permission('forms.view') // bool
has_permission('departments.manage', $deptId) // bool
has_any_role(['admin', 'manager']) // bool

// ุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู
current_user_permissions() // array
current_user_roles() // array
get_available_roles() // array
```

#### ูุธุงู CSRF
```php
// ุญูุงูุฉ ุงูููุงุฐุฌ
$token = generate_csrf_token();
verify_csrf_token($_POST['csrf_token']); // bool
```

#### ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
```php
// ุฅุฏุงุฑุฉ ุชุณุฌูู ุงูุฏุฎูู/ุงูุฎุฑูุฌ
login_user($email, $password, $remember_me) // array
logout_user() // void

// ูุญุต ุฃูุงู ุงูุฌูุณุฉ
validate_session() // bool
```

## ุงูุงุณุชุฎุฏุงู ุงูุนููู

### ุญูุงูุฉ ุงูุตูุญุงุช
```php
<?php
// ุชุถููู ุงููุณุงุนุฏุฉ
require_once __DIR__ . '/../../src/helpers.php';

// ุญูุงูุฉ ุฃุณุงุณูุฉ
require_auth();

// ุญูุงูุฉ ุญุณุจ ุงูุฏูุฑ
require_role('admin');

// ุญูุงูุฉ ุญุณุจ ุงูุตูุงุญูุฉ
require_permission('forms.create');
require_permission('departments.manage', $departmentId);
```

### ุงูุชุญูู ุงููุฑู ูู ุงูููุฏ
```php
// ูุญุต ุตูุงุญูุฉ ูุนุฑุถ ูุญุชูู ูุดุฑูุท
if (has_permission('submissions.view')) {
    // ุนุฑุถ ุฅุฌุงุจุงุช ุงูุงุณุชูุงุฑุงุช
}

// ูุญุต ุฏูุฑ
if (has_any_role(['admin', 'manager'])) {
    // ุนุฑุถ ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ
}

// ูุญุต ุตูุงุญูุฉ ุฅุฏุงุฑุฉ
if (can_perform_on_department('manage', $deptId)) {
    // ุงูุณูุงุญ ุจุงูุชุนุฏูู
}
```

### ุฃูุซูุฉ ุงุณุชุฎุฏุงู ูุชูุฏูุฉ

#### 1. ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุงุณุชูุงุฑุงุช
```php
// forms.php
require_auth();
require_permission('forms.view');

// ุฌูุจ ุงูุงุณุชูุงุฑุงุช ุจูุงุกู ุนูู ุงูุตูุงุญูุงุช
$departmentId = $_GET['department'] ?? null;
if ($departmentId) {
    require_permission('forms.view', $departmentId);
}
```

#### 2. ุตูุญุฉ ุงูุชูุงุฑูุฑ
```php
// reports.php
require_auth();
require_permission('reports.view');

if (has_permission('reports.export')) {
    // ุนุฑุถ ุฒุฑ ุงูุชุตุฏูุฑ
}
```

#### 3. ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
```php
// users.php
require_auth();
require_permission('permissions.manage');

// ุงูุชุญูู ูู ุตูุงุญูุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
if (!has_permission('permissions.assign')) {
    die('ุบูุฑ ูุณููุญ ุจุชุนุฏูู ุตูุงุญูุงุช ุงููุณุชุฎุฏููู');
}
```

## ูุธุงู ุงูุตูุงุญูุงุช ุงููุญุฏุฏ

### ุตูุงุญูุงุช ููุญุฉ ุงูุชุญูู
- `dashboard.view` - ุนุฑุถ ููุญุฉ ุงูุชุญูู

### ุตูุงุญูุงุช ุงูุงุณุชูุงุฑุงุช
- `forms.view` - ุนุฑุถ ุงูุงุณุชูุงุฑุงุช
- `forms.create` - ุฅูุดุงุก ุงุณุชูุงุฑุงุช ุฌุฏูุฏุฉ
- `forms.edit` - ุชุนุฏูู ุงูุงุณุชูุงุฑุงุช
- `forms.delete` - ุญุฐู ุงูุงุณุชูุงุฑุงุช
- `forms.publish` - ูุดุฑ ูุฅูุบุงุก ูุดุฑ ุงูุงุณุชูุงุฑุงุช

### ุตูุงุญูุงุช ุงูุฅุฌุงุจุงุช
- `submissions.view` - ุนุฑุถ ุฅุฌุงุจุงุช ุงูุงุณุชูุงุฑุงุช
- `submissions.edit` - ุชุนุฏูู ุฅุฌุงุจุงุช ุงูุงุณุชูุงุฑุงุช
- `submissions.delete` - ุญุฐู ุฅุฌุงุจุงุช ุงูุงุณุชูุงุฑุงุช
- `submissions.export` - ุชุตุฏูุฑ ุฅุฌุงุจุงุช ุงูุงุณุชูุงุฑุงุช

### ุตูุงุญูุงุช ุงูุฅุฏุงุฑุงุช
- `departments.view` - ุนุฑุถ ุงูุฅุฏุงุฑุงุช
- `departments.manage` - ุฅุฏุงุฑุฉ ุงูุฅุฏุงุฑุงุช
- `departments.edit` - ุชุนุฏูู ุงูุฅุฏุงุฑุงุช

### ุตูุงุญูุงุช ุงูุชูุงุฑูุฑ
- `reports.view` - ุนุฑุถ ุงูุชูุงุฑูุฑ
- `reports.export` - ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ
- `reports.generate` - ุฅูุดุงุก ุชูุงุฑูุฑ ูุฎุตุตุฉ

### ุตูุงุญูุงุช ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ
- `permissions.view` - ุนุฑุถ ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ
- `permissions.manage` - ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ
- `permissions.assign` - ุชุนููู ุงูุฃุฏูุงุฑ ูููุณุชุฎุฏููู

### ุตูุงุญูุงุช ุงูุฅุนุฏุงุฏุงุช
- `settings.view` - ุนุฑุถ ุฅุนุฏุงุฏุงุช ุงููุธุงู
- `settings.manage` - ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงููุธุงู
- `settings.advanced` - ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

## ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ

### ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ

#### 1. Admin (ูุฏูุฑ ุงููุธุงู)
- **ุงูุตูุงุญูุงุช**: ุฌููุน ุงูุตูุงุญูุงุช
- **ุงููุตูู**: ุฌููุน ุงููุญุฏุงุช ูุงููุธุงุฆู
- **ุงูุงุณุชุฎุฏุงู**: ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูููุธุงู

#### 2. Manager (ูุฏูุฑ)
- **ุงูุตูุงุญูุงุช**: ุฅุฏุงุฑุฉ ุงูุฅุฏุงุฑุงุช ูุงููุญุชูู
- **ุงููุตูู**: ุงูุงุณุชูุงุฑุงุชุ ุงูุฅุฌุงุจุงุชุ ุงูุชูุงุฑูุฑุ ุงูุฅุฏุงุฑุงุช
- **ุงูุงุณุชุฎุฏุงู**: ุฅุฏุงุฑุฉ ุงูุฃูุณุงู ูุงููุญุชูู

#### 3. Editor (ูุญุฑุฑ)
- **ุงูุตูุงุญูุงุช**: ุฅูุดุงุก ูุชุนุฏูู ุงูุงุณุชูุงุฑุงุช
- **ุงููุตูู**: ุงูุงุณุชูุงุฑุงุชุ ุงูุฅุฌุงุจุงุช ุงูุฃุณุงุณูุฉุ ุงูุชูุงุฑูุฑ
- **ุงูุงุณุชุฎุฏุงู**: ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุงููุญุชูู

#### 4. Viewer (ูุฑุงูุจ)
- **ุงูุตูุงุญูุงุช**: ุนุฑุถ ููุท
- **ุงููุตูู**: ููุญุฉ ุงูุชุญููุ ุนุฑุถ ุงูุงุณุชูุงุฑุงุช ูุงูุฅุฌุงุจุงุช
- **ุงูุงุณุชุฎุฏุงู**: ุงููุฑุงูุจุฉ ูุงูุนุฑุถ ููุท

### ุชุนููู ุงูุฃุฏูุงุฑ

```php
// ุชุนููู ุฏูุฑ ูููุณุชุฎุฏู
$rolePermissionService = new RolePermissionService();
$rolePermissionService->assignRole($adminId, $roleId, $departmentId);

// ุฅุฒุงูุฉ ุฏูุฑ
$rolePermissionService->removeRole($adminId, $roleId, $departmentId);

// ุงูุชุญูู ูู ุฏูุฑ
$hasRole = $rolePermissionService->hasRole($adminId, 'admin');
```

## ูุธุงู ุงูุชุฏููู (Audit Logging)

### ุงูุนูููุงุช ุงูููุณุฌูุฉ
- **ุชุณุฌูู ุงูุฏุฎูู**: ูุงุฌุญ/ูุงุดู ูุน IP ู User-Agent
- **ุชุณุฌูู ุงูุฎุฑูุฌ**: ูุน ูุฏุฉ ุงูุฌูุณุฉ
- **ุงููุตูู ููุตูุญุงุช**: ูุน ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- **ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู**: ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- **ุชุบููุฑ ุงูุตูุงุญูุงุช**: ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- **ูุญุงููุงุช ุงูุงุฎุชุฑุงู**: ูุญุงููุงุช ูุงุดูุฉ

### ุชุณุฌูู ุงูุนูููุงุช
```php
// ุชุณุฌูู ุนูููุฉ ูุฎุตุตุฉ
$rolePermissionService->logAction(
    $adminId, 
    'form_created', 
    'forms', 
    'success', 
    ['form_id' => $formId, 'form_title' => $title]
);
```

## ุฅุนุฏุงุฏุงุช ุงูุฃูุงู

### ุงูููู `config/security.php`
ูุญุชูู ุนูู ุฌููุน ุฅุนุฏุงุฏุงุช ุงูุฃูุงู:

```php
return [
    'session' => [
        'lifetime' => 7200, // 2 ุณุงุนุฉ
        'secure' => true,   // HTTPS ููุท
        'httponly' => true, // ุญูุงูุฉ JavaScript
        'samesite' => 'Strict'
    ],
    'csrf' => [
        'token_lifetime' => 3600, // ุณุงุนุฉ ูุงุญุฏุฉ
        'token_length' => 32
    ],
    'login' => [
        'max_attempts' => 5,    // 5 ูุญุงููุงุช
        'lockout_time' => 900   // 15 ุฏูููุฉ
    ]
];
```

## Caching System

### ุงูุชุฎุฒูู ุงููุคูุช ููุตูุงุญูุงุช
- **TTL**: 30 ุฏูููุฉ ููุตูุงุญูุงุช
- **ููุชุงุญ ุงูุชุฎุฒูู**: ูุชุถูู ูุนุฑู ุงููุณุชุฎุฏู ูุงูุตูุงุญูุฉ
- **ูุณุญ ุชููุงุฆู**: ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู/ุงูุฎุฑูุฌ
- **ูุฏูู**: ุฅููุงููุฉ ูุณุญ ุงูุชุฎุฒูู

```php
$roleService = new RolePermissionService();

// ูุณุญ ุชุฎุฒูู ูุณุชุฎุฏู ูุนูู
$roleService->clearUserCache($adminId);

// ุฅุนุงุฏุฉ ุชุญููู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
$roleService->refreshUserPermissions($adminId);

// ุฅุญุตุงุฆูุงุช ุงูุชุฎุฒูู
$stats = $roleService->getCacheStats();
```

## ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุขููุฉ
- **HTTP 403**: ููุตูุญุงุช ุบูุฑ ุงููุณููุญุฉ
- **ูุง ูุนูููุงุช ุญุณุงุณุฉ**: ูุง ุชูุดู ุชูุงุตูู ุฏุงุฎููุฉ
- **ุชุณุฌูู ุงูุฃุฎุทุงุก**: ุฌููุน ุงูุฃุฎุทุงุก ูู audit logs

```php
// ูุซุงู ูุนุงูุฌุฉ ุฎุทุฃ
try {
    require_permission('forms.edit', $departmentId);
} catch (Exception $e) {
    Logger::warning('Permission denied', [
        'user_id' => $user['id'],
        'permission' => 'forms.edit',
        'department_id' => $departmentId
    ]);
    
    http_response_code(403);
    die('ุบูุฑ ูุณููุญ ุจุงููุตูู ููุฐู ุงูุตูุญุฉ');
}
```

## ุงูุงุฎุชุจุงุฑ ูุงูุชุทููุฑ

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```bash
php test_authentication_system.php
```

### ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ
- **ุงูุจุฑูุฏ**: admin@buraqforms.com
- **ูููุฉ ุงููุฑูุฑ**: password123
- **ุงูุฏูุฑ**: admin
- **ุงูุตูุงุญูุงุช**: ุฌููุน ุงูุตูุงุญูุงุช

### ุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉ

#### 1. ุฅุถุงูุฉ ุตูุงุญูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
INSERT INTO admin_permissions (permission_name, permission_description, permission_group)
VALUES ('new_feature.manage', 'ุฅุฏุงุฑุฉ ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ', 'new_feature');
```

#### 2. ุฅุถุงูุฉ ุตูุงุญูุฉ ููุฏูุฑ
```sql
INSERT INTO admin_role_permissions (role_id, permission_id)
SELECT r.id, p.id 
FROM admin_roles r, admin_permissions p 
WHERE r.role_name = 'editor' 
AND p.permission_name = 'new_feature.manage';
```

#### 3. ุฅุถุงูุฉ ูุญุต ูู ุงูููุฏ
```php
require_permission('new_feature.manage');
// ุฃู
if (has_permission('new_feature.manage')) {
    // ุนุฑุถ ุงูููุฒุฉ
}
```

## ุงูุฃูุงู ุงูุฅุถุงูู

### ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
```php
// ุชุดููุฑ ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ
$hashedPassword = password_hash($password, PASSWORD_DEFAULT);

// ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ
if (password_verify($inputPassword, $storedHash)) {
    // ุตุญูุญ
}
```

### ุฑุคูุณ ุงูุฃูุงู
```php
// ุฅุถุงูุฉ ูู ูู ุตูุญุฉ
header('X-Content-Type-Options: nosniff');
header('X-Frame-Options: DENY');
header('X-XSS-Protection: 1; mode=block');
```

### ุงูุชุญูู ูู ุงููุฏุฎูุงุช
```php
// ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
$email = filter_var($input, FILTER_SANITIZE_EMAIL);
if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
    // ุฎุทุฃ
}

// ุงูุชุญูู ูู ุงููุต
$text = htmlspecialchars($input, ENT_QUOTES, 'UTF-8');
```

## ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุญูุงูุฉ ุงูุตูุญุงุช
```php
// ูู ุจุฏุงูุฉ ูู ุตูุญุฉ ูุญููุฉ
require_once __DIR__ . '/../../src/helpers.php';
require_auth();
require_permission('required.permission');
```

### 2. ุงูุชุญูู ุงููุชูุฏู
```php
// ุชุญูู ูุฑู
if (has_permission('forms.edit', $deptId) || has_role_level('manager')) {
    // ุงูุณูุงุญ ุจุงูุชุนุฏูู
}
```

### 3. ุงูุชุญูู ูู CSRF
```php
// ูู ุงูููุงุฐุฌ
<form method="POST">
    <input type="hidden" name="csrf_token" value="<?= generate_csrf_token() ?>">
    <!-- ุจุงูู ุงูุญููู -->
</form>

// ูู ุงููุนุงูุฌุฉ
if (!verify_csrf_token($_POST['csrf_token'])) {
    throw new Exception('ุฑูุฒ ุงูุฃูุงู ุบูุฑ ุตุญูุญ');
}
```

### 4. ุชุณุฌูู ุงูุนูููุงุช
```php
// ุชุณุฌูู ุงูุนูููุงุช ุงููููุฉ
Logger::info('ุชู ุฅูุดุงุก ุงุณุชูุงุฑุฉ ุฌุฏูุฏุฉ', [
    'user_id' => $user['id'],
    'form_id' => $formId,
    'department_id' => $deptId
]);
```

## ุงูุตูุงูุฉ ูุงูุชุทููุฑ

### ูุฑุงูุจุฉ ุงูุฃุฏุงุก
```php
// ูุญุต ุฅุญุตุงุฆูุงุช ุงูุชุฎุฒูู
$stats = $rolePermissionService->getCacheStats();

// ูุฑุงูุจุฉ audit logs
$recentLogs = getAuditLogs(24); // ุขุฎุฑ 24 ุณุงุนุฉ
```

### ุงููุณุฎ ุงูุงุญุชูุงุทู
```bash
# ูุณุฎ ุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ุฌุฏุงูู RBAC
mysqldump -u user -p buraq_forms > backup_$(date +%Y%m%d).sql
```

### ุงูุชุญุฏูุซุงุช
ุนูุฏ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ:
1. ุฅุถุงูุฉ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ
2. ุฑุจุท ุงูุตูุงุญูุงุช ุจุงูุฃุฏูุงุฑ ุงูููุงุณุจุฉ
3. ุชุญุฏูุซ ุงูููุฏ ููุณุชุฎุฏู `require_permission`
4. ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช

## ุงูุฏุนู ุงูููู

ููุญุตูู ุนูู ุงูุฏุนู ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
1. ูุญุต `audit_logs` ููุฃุฎุทุงุก
2. ุชุดุบูู `test_authentication_system.php`
3. ูุญุต ุฅุนุฏุงุฏุงุช `config/security.php`
4. ุงูุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุฌุฏุงูู RBAC

---

## ููุฎุต ุงููููุฒุงุช ุงูููุชููุฉ

โ **ุชุณุฌูู ุฏุฎูู ุขูู ูุน CSRF**
โ **ุญูุงูุฉ ุงูุตูุญุงุช ุจูุงุกู ุนูู ุงูุตูุงุญูุงุช**
โ **ูุธุงู audit_logs ุดุงูู**
โ **ุชุณุฌูู ุฏุฎูู/ุฎุฑูุฌ ุขูู ูุน logging**
โ **Caching ููุตูุงุญูุงุช**
โ **ุญูุงูุฉ ูู Brute Force**
โ **ุงุฎุชุจุงุฑ ุดุงูู ูููุธุงู**
โ **ุฏููู ุงุณุชุฎุฏุงู ููุตู**

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู ูุน ุฌููุน ูุนุงููุฑ ุงูุฃูุงู ุงููุทููุจุฉ.