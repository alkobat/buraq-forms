# ุตูุญุงุช ููุก ุงูุงุณุชูุงุฑุงุช ููููุธููู - ุชูุซูู ุดุงูู

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅูุดุงุก ูุธุงู ูุชูุงูู ูููุก ุงูุงุณุชูุงุฑุงุช ูููุณุชุฎุฏููู ุงูุนุงุฏููู (ุงูููุธููู) ูุน ูุงุฌูุฉ ุนุฑุจูุฉ ุญุฏูุซุฉ ูุฏุนู RTL ูุงูู.

## ุงููููุงุช ุงููููุดุฃุฉ

### 1. ุตูุญุงุช PHP (4 ูููุงุช)
- **`public/forms/index.php`** - ุตูุญุฉ ูุงุฆูุฉ ุงูุงุณุชูุงุฑุงุช
- **`public/forms/fill.php`** - ุตูุญุฉ ููุก ุงูุงุณุชูุงุฑุฉ
- **`public/forms/submit.php`** - ูุนุงูุฌ ุฅุฑุณุงู ุงูุงุณุชูุงุฑุฉ
- **`public/forms/success.php`** - ุตูุญุฉ ุงููุฌุงุญ ูุน ุงูุฑูุฒ ุงููุฑุฌุนู

### 2. ูููุงุช ุงูุฃุตูู (2 ููู)
- **`public/assets/css/forms.css`** - ููู CSS ูุชูุงูู ูุน RTL
- **`public/assets/js/forms.js`** - ููู JavaScript ูุชูุฏู

### 3. ูููุงุช ุงูุฅุนุฏุงุฏ (1 ููู)
- **`config/database.php`** - ููู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ฏ ุตูุญุฉ ูุงุฆูุฉ ุงูุงุณุชูุงุฑุงุช (index.php)
- โ ุนุฑุถ ุฌููุน ุงูุงุณุชูุงุฑุงุช ุงููุดุทุฉ
- โ ุชุตููุฉ ุญุณุจ ุงูุฅุฏุงุฑุฉ
- โ ุงูุจุญุซ ูู ุงูุนููุงู ูุงููุตู
- โ ุนุฑุถ ูุนูููุงุช ุงูุงุณุชูุงุฑุฉ (ุงูุนููุงูุ ุงููุตูุ ุงูุฅุฏุงุฑุงุช ุงููุฑุชุจุทุฉ)
- โ ุฑุงุจุท ูุจุงุดุฑ ูููุก ุงูุงุณุชูุงุฑุฉ

### โ๏ธ ุตูุญุฉ ููุก ุงูุงุณุชูุงุฑุฉ (fill.php)
#### ุฏุนู 11 ููุน ูู ุงูุญููู:
1. **text** - ุญูู ูุต ุนุงุฏู
2. **textarea** - ุญูู ูุต ุทููู
3. **email** - ุจุฑูุฏ ุฅููุชุฑููู
4. **number** - ุฑูู
5. **date** - ุชุงุฑูุฎ
6. **time** - ููุช
7. **select** - ูุงุฆูุฉ ููุณุฏูุฉ (ูุน ุฏุนู ุชุญููู ูู ุงูุฅุฏุงุฑุงุช)
8. **radio** - ุงุฎุชูุงุฑ ูุงุญุฏ
9. **checkbox** - ูุฑุจุนุงุช ุงุฎุชูุงุฑ ูุชุนุฏุฏุฉ
10. **file** - ุฑูุน ููู (ูุน ูุนุงููุฉ ูุฃููููุงุช)
11. **repeater** - ูุฌููุนุงุช ูุชูุฑุฑุฉ (ูุน ุฅุถุงูุฉ/ุญุฐู ุฏููุงูููู)

#### ููุฒุงุช ุฅุถุงููุฉ:
- โ ุดุฑูุท ุชูุฏู ุฏููุงูููู ูุนุฑุถ ูุณุจุฉ ุฅุชูุงู ุงูุงุณุชูุงุฑุฉ
- โ ูุนุงููุฉ ูุจู ุงูุฅุฑุณุงู (Preview Modal)
- โ ุญูุธ ูุคูุช ุชููุงุฆู ูู localStorage
- โ ุงุณุชุนุงุฏุฉ ุงููุณูุฏุฉ ุนูุฏ ุงูุนูุฏุฉ ููุตูุญุฉ
- โ CSRF Protection
- โ ุญูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฅุฌุจุงุฑู
- โ ุญูู ุงูุฅุฏุงุฑุฉ (ุงุฎุชูุงุฑู ุญุณุจ ุฅุนุฏุงุฏุงุช ุงูุงุณุชูุงุฑุฉ)

### ๐ค ูุนุงูุฌ ุงูุฅุฑุณุงู (submit.php)
- โ ุงุณุชุฎุฏุงู FormSubmissionService ููุชุญูู ูุงูุญูุธ
- โ Server-side validation ุดุงูู
- โ ูุนุงูุฌุฉ ุงููููุงุช ุนุจุฑ FormFileService
- โ ุฏุนู ุฑูุน ุงููููุงุช ุฏุงุฎู ุงูู repeater
- โ ุฅูุดุงุก reference code ูุฑูุฏ
- โ ุญูุธ IP address ูููุชุงุจุนุฉ
- โ JSON response ููุฃุฎุทุงุก ูุงููุฌุงุญ
- โ CSRF token verification

### ๐ ุตูุญุฉ ุงููุฌุงุญ (success.php)
- โ ุนุฑุถ ุงูุฑูุฒ ุงููุฑุฌุนู (Reference Code)
- โ ูุณุฎ ุงูุฑูุฒ ุจุถุบุทุฉ ุฒุฑ
- โ Confetti animation ุงุญุชูุงููุฉ
- โ ุทุจุงุนุฉ ุงูุตูุญุฉ
- โ ุฑุงุจุท ููุนูุฏุฉ ููุงุณุชูุงุฑุงุช

## ุงูุชุญูู ูุงูุฃูุงู

### Client-side Validation (forms.js)
- โ ุชุญูู ููุฑู ุนูุฏ ุงูุชุนุฏูู (blur event)
- โ ุชุญูู ูู ุงูุญููู ุงููุทููุจุฉ
- โ ุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุชุญูู ูู ุงูุฃุฑูุงู (min/max)
- โ ุชุญูู ูู ุทูู ุงููุต (minlength/maxlength)
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ

### Server-side Validation (submit.php)
- โ ุงูุชุญูู ูู CSRF token
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุงุณุชุฎุฏุงู FormSubmissionService ููุชุญูู ุงูุดุงูู
- โ ุงูุชุญูู ูู ุงูุญููู ุงููุทููุจุฉ
- โ ุงูุชุญูู ูู validation rules
- โ ุงูุชุญูู ูู ุงููููุงุช ุงููุฑููุนุฉ

### File Security
- โ ุงูุชุญูู ูู ููุน ุงูููู
- โ ุงูุชุญูู ูู ุญุฌู ุงูููู
- โ ุชุฎุฒูู ุขูู ูู storage/forms/
- โ ุฃุณูุงุก ูููุงุช ููุดูุฑุฉ

## ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (UX)

### ุดุฑูุท ุงูุชูุฏู
- ูุนุฑุถ ูุณุจุฉ ุฅุชูุงู ุงูุงุณุชูุงุฑุฉ ุจูุงุกู ุนูู ุงูุญููู ุงูููููุกุฉ
- ูุชุญุฏุซ ุชููุงุฆูุงู ุนูุฏ ุชุนุฏูู ุฃู ุญูู
- ูุนุฑุถ ุนุฏุฏ ุงูุญููู ุงูููููุกุฉ ูู ุฅุฌูุงูู ุงูุญููู

### File Upload
- **Drag & Drop**: ุณุญุจ ูุฅููุงุช ุงููููุงุช
- **File Preview**: ูุนุงููุฉ ุงูููู ูุจู ุงูุฑูุน
- **File Icons**: ุฃููููุงุช ุญุณุจ ููุน ุงูููู (PDF, Word, Excel, Image, etc.)
- **File Size**: ุนุฑุถ ุญุฌู ุงูููู

### Repeater Groups
- **ุฅุถุงูุฉ ูุฌููุนุฉ**: ุฒุฑ "+" ูุฅุถุงูุฉ ูุฌููุนุฉ ุฌุฏูุฏุฉ
- **ุญุฐู ูุฌููุนุฉ**: ุฒุฑ "ร" ูุญุฐู ุงููุฌููุนุฉ
- **ุชุฑููู ุชููุงุฆู**: ุงููุฌููุนุฉ 1ุ ุงููุฌููุนุฉ 2ุ ุฅูุฎ
- **ุญุฏ ุฃุฏูู**: ูุฌููุนุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู

### Draft Saving
- ุญูุธ ุชููุงุฆู ูู 30 ุซุงููุฉ
- ุญูุธ ุนูุฏ ูุบุงุฏุฑุฉ ุงูุตูุญุฉ
- ุงุณุชุนุงุฏุฉ ุงููุณูุฏุฉ ุนูุฏ ุงูุนูุฏุฉ
- ูุคุดุฑ "ุชู ุญูุธ ุงููุณูุฏุฉ"

### Loading States
- ูุคุดุฑ ุชุญููู ุฃุซูุงุก ุงูุฅุฑุณุงู
- ุชุนุทูู ุงูุฒุฑ ุฃุซูุงุก ุงูุฅุฑุณุงู
- overlay ููุดุงุดุฉ ุจุงููุงูู

## ุงูุชุตููู ูุงููุงุฌูุฉ

### RTL Support
- โ Bootstrap 5 RTL
- โ Font: Cairo (Google Fonts)
- โ Direction: RTL
- โ Text-align: right
- โ ุฌููุน ุงููุตูุต ุจุงูุนุฑุจูุฉ

### Responsive Design
- โ ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- โ Mobile-first approach
- โ Breakpoints ููุงุณุจุฉ
- โ Touch-friendly buttons

### Color Scheme
- **Primary**: Gradient (#667eea โ #764ba2)
- **Success**: #28a745
- **Danger**: #dc3545
- **Secondary**: #6c757d
- **Light**: #f8f9fa

### Animations
- โ Fade-in ููุนูุงุตุฑ
- โ Hover effects
- โ Transition smooth
- โ Confetti ูู ุตูุญุฉ ุงููุฌุงุญ

## ุงุณุชุฎุฏุงู FormService APIs

### FormService
```php
$formService = new FormService($pdo);
$form = $formService->getBySlug($slug);
$forms = $formService->list('active');
```

### FormFieldService
```php
$fieldService = new FormFieldService($pdo);
$fields = $fieldService->getFieldDefinitionsForRendering($formId);
```

### FormSubmissionService
```php
$submissionService = new FormSubmissionService($pdo);
$submission = $submissionService->submit($formId, $submissionData, $answers, $files);
```

## ูุณุงุฑ ุงูุนูู (Workflow)

### 1. ุงููุณุชุฎุฏู ูุตู ูุตูุญุฉ ุงููุงุฆูุฉ
```
/public/forms/index.php
โ
ุนุฑุถ ุฌููุน ุงูุงุณุชูุงุฑุงุช ุงููุดุทุฉ
โ
ุชุตููุฉ/ุจุญุซ (ุงุฎุชูุงุฑู)
โ
ุงุฎุชูุงุฑ ุงุณุชูุงุฑุฉ
```

### 2. ููุก ุงูุงุณุชูุงุฑุฉ
```
/public/forms/fill.php?slug=form-slug
โ
ุชุญููู ุชุนุฑููุงุช ุงูุญููู
โ
ุนุฑุถ ุงูุญููู ุฏููุงููููุงู
โ
ููุก ุงูุจูุงูุงุช (ูุน validation ููุฑู)
โ
ูุนุงููุฉ (ุงุฎุชูุงุฑู)
โ
ุฅุฑุณุงู
```

### 3. ูุนุงูุฌุฉ ุงูุฅุฑุณุงู
```
POST /public/forms/submit.php
โ
CSRF verification
โ
Server-side validation
โ
ูุนุงูุฌุฉ ุงููููุงุช
โ
ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ
ุฅูุดุงุก reference code
โ
JSON response
```

### 4. ุงููุฌุงุญ
```
/public/forms/success.php?ref=REF-XXXXX
โ
ุนุฑุถ ุงูุฑูุฒ ุงููุฑุฌุนู
โ
Confetti animation
โ
ุฎูุงุฑุงุช: ูุณุฎุ ุทุจุงุนุฉุ ุนูุฏุฉ
```

## ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Environment Variables
```
DB_HOST=localhost
DB_NAME=employee_evaluation
DB_USER=root
DB_PASS=
```

### Connection
```php
$pdo = EmployeeEvaluationSystem\Core\Database::createConnection($dbConfig);
```

## Acceptance Criteria - ูููุชูู โ

- โ ููุก ุงุณุชูุงุฑุฉ ูุงููุฉ ูุน ุฌููุน ุฃููุงุน ุงูุญููู
- โ ุฑูุน ูููุงุช ููุนุงููุชูุง
- โ ุฅุถุงูุฉ/ุญุฐู ูุฌููุนุงุช repeater
- โ ุดุฑูุท ุชูุฏู ุฏููุงูููู
- โ ูุนุงููุฉ ูุจู ุงูุฅุฑุณุงู
- โ Client & Server validation
- โ ุญูุธ ูุคูุช ูู localStorage
- โ CSRF protection
- โ ุฅุฑุณุงู ูุงุฌุญ ูุน reference code
- โ RTL ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ
- โ Responsive design

## ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ูุฏูู
1. ุงูุชุญ `/public/forms/index.php`
2. ุงุฎุชุฑ ุงุณุชูุงุฑุฉ ูู ุงููุงุฆูุฉ
3. ุงููุฃ ุฌููุน ุงูุญููู
4. ุฌุฑูุจ ุฅุถุงูุฉ ูุฌููุนุฉ repeater
5. ุงุฑูุน ููู ูุดุงูุฏ ุงููุนุงููุฉ
6. ุงุถุบุท ูุนุงููุฉ ูุจู ุงูุฅุฑุณุงู
7. ุฃุฑุณู ุงูุงุณุชูุงุฑุฉ
8. ุดุงูุฏ ุตูุญุฉ ุงููุฌุงุญ ูุงูุฑูุฒ ุงููุฑุฌุนู

### ููู ุงูุงุฎุชุจุงุฑ
```bash
php test_forms_public.php
```

## ุงูุฎูุงุตุฉ
ุชู ุฅูุดุงุก ูุธุงู ูุชูุงูู ูููุก ุงูุงุณุชูุงุฑุงุช ููููุธููู ูุดูู:
- 4 ุตูุญุงุช PHP ูุงููุฉ
- ุฏุนู 11 ููุน ูู ุงูุญููู
- Client & Server validation
- File upload system
- Repeater groups
- Progress tracking
- Draft saving
- CSRF protection
- RTL Arabic UI
- Responsive design

๐ **ุฌููุน ูุชุทูุจุงุช ุงูุชุฐูุฑุฉ ูููุฌุฒุฉ ุจูุฌุงุญ!**
